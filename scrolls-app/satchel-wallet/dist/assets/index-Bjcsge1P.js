var se=Object.defineProperty;var te=(s,r,t)=>r in s?se(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t;var L=(s,r,t)=>te(s,typeof r!="symbol"?r+"":r,t);import{j as e,Q as re}from"./query-kpRafehQ.js";import{b as ae,r as l,R as A}from"./react-DlWwq_Dl.js";import{c as le,o as R,h as w,b as M,d as F,p as D,e as B,m as I,i as ne,w as oe,f as ce,u as q,g as ie,j as de,k as xe,Q as me,W as ue}from"./web3-Bq1CduWo.js";import{C as T,A as S,a as he,E as ge,W as X,L as pe,b as E,R as _,X as $,I as Y,S as be,c as U,T as H,d as je,e as fe}from"./ui-BibyvYCp.js";import{c as O}from"./utils-B-dksMZM.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var z={},G=ae;z.createRoot=G.createRoot,z.hydrateRoot=G.hydrateRoot;const ye="demo-project-id-replace-with-real",ve=le({chains:[I,B,D,F,M,R],connectors:[ne({target:"metaMask"}),oe({projectId:ye,metadata:{name:"Satchel Wallet",description:"Multi-Chain Caesar Token Wallet",url:"https://satchel.wallet",icons:["https://satchel.wallet/icon.png"]}}),ce({appName:"Satchel Wallet",appLogoUrl:"https://satchel.wallet/icon.png"})],transports:{[I.id]:w(),[B.id]:w(),[D.id]:w(),[F.id]:w(),[M.id]:w(),[R.id]:w()}}),V=s=>s?`${s.slice(0,6)}...${s.slice(-4)}`:"",Z=s=>({1:"Ethereum",11155111:"Sepolia",137:"Polygon",42161:"Arbitrum",8453:"Base",10:"Optimism"})[s]||`Chain ${s}`,we=()=>[1,11155111,137,42161,8453,10],P=s=>we().includes(s),Ne=({onWalletConnected:s})=>{const[r,t]=l.useState(!1),{address:a,isConnected:n,connector:i}=q(),{connect:m,connectors:x,isPending:g,error:c}=ie(),{disconnect:u}=de(),h=xe(),b=d=>{m({connector:d}),t(!1)},f=()=>{u()};A.useEffect(()=>{n&&a&&h&&s&&s(a,h)},[n,a,h,s]);const y=d=>{switch(d.toLowerCase()){case"metamask":case"injected":return"ðŸ¦Š";case"walletconnect":return"ðŸ”—";case"coinbase wallet":case"coinbasewallet":return"ðŸ”µ";default:return"ðŸ‘›"}};return n&&a?e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>t(!r),className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-200 rounded-lg shadow-sm min-w-[200px] transition-colors hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[P(h)?e.jsx(T,{size:16,className:"text-green-400"}):e.jsx(S,{size:16,className:"text-yellow-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-gray-900",children:V(a)}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[Z(h),!P(h)&&e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded text-xs",children:"UNSUPPORTED"})]})]})]}),e.jsx(he,{size:16,className:`text-gray-400 transition-transform ${r?"rotate-180":""}`})]}),r&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[250px]",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-2xl",children:y((i==null?void 0:i.name)||"")}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:i==null?void 0:i.name}),e.jsx("p",{className:"text-sm text-gray-500",children:"Connected"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Address:"}),e.jsx("span",{className:"font-mono text-gray-900",children:V(a)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Network:"}),e.jsx("span",{className:"text-gray-900",children:Z(h)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("div",{className:"flex items-center gap-1",children:P(h)?e.jsxs(e.Fragment,{children:[e.jsx(T,{size:12,className:"text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Supported"})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{size:12,className:"text-yellow-600"}),e.jsx("span",{className:"text-yellow-600",children:"Switch Network"})]})})]})]})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs("button",{onClick:()=>window.open(`https://etherscan.io/address/${a}`,"_blank"),className:"w-full flex items-center justify-between p-2 hover:bg-white hover:bg-opacity-5 rounded-lg transition-colors text-left",children:[e.jsx("span",{children:"View on Explorer"}),e.jsx(ge,{size:14})]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(a),t(!1)},className:"w-full flex items-center justify-between p-2 hover:bg-white hover:bg-opacity-5 rounded-lg transition-colors text-left",children:[e.jsx("span",{children:"Copy Address"}),e.jsx("span",{children:"ðŸ“‹"})]}),e.jsx("button",{onClick:f,className:"w-full p-2 text-red-400 hover:bg-red-500 hover:bg-opacity-10 rounded-lg transition-colors text-left",children:"Disconnect"})]})]}),r&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>t(!r),className:"flex items-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[e.jsx(X,{size:20}),"Connect Wallet"]}),r&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Connect Wallet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Choose your preferred wallet to connect to Satchel"})]}),e.jsx("div",{className:"p-6 space-y-3",children:x.map(d=>e.jsxs("button",{onClick:()=>b(d),disabled:g,className:"w-full flex items-center justify-between p-4 border border-gray-200 hover:border-gray-300 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:y(d.name)}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900",children:d.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[d.name==="MetaMask"&&"Connect using MetaMask browser extension",d.name==="WalletConnect"&&"Connect using WalletConnect protocol",d.name==="Coinbase Wallet"&&"Connect using Coinbase Wallet"]})]})]}),g&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"})]},d.uid))}),c&&e.jsx("div",{className:"p-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(S,{size:16,className:"text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 font-medium",children:"Connection Error"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.message})]})]})}),e.jsx("div",{className:"p-6 border-t border-gray-200",children:e.jsx("button",{onClick:()=>t(!1),className:"w-full px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})})]})})})]})},Ce=({size:s="md",className:r=""})=>{const t={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return e.jsx(pe,{className:`animate-spin text-blue-600 ${t[s]} ${r}`})},C=({children:s,isLoading:r,disabled:t=!1,onClick:a,variant:n="primary",className:i=""})=>{const m="px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 min-w-[120px]",x={primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 disabled:bg-gray-50 disabled:cursor-not-allowed"};return e.jsx("button",{onClick:a,disabled:t||r,className:`${m} ${x[n]} ${i}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(Ce,{size:"sm",className:"text-current"}),e.jsx("span",{children:"Loading..."})]}):s})},j=({className:s="",variant:r="rectangular"})=>{const t={text:"h-4 rounded",rectangular:"h-12 rounded-lg",circular:"rounded-full aspect-square"};return e.jsx("div",{className:`bg-gray-200 animate-pulse ${t[r]} ${s}`})},ke=()=>e.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{variant:"text",className:"w-24 h-3 mx-auto mb-2"}),e.jsx(j,{variant:"text",className:"w-32 h-8 mx-auto mb-6"}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(j,{className:"w-16 h-10"}),e.jsx(j,{className:"w-20 h-10"}),e.jsx(j,{className:"w-14 h-10"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx(j,{variant:"text",className:"w-16 h-5 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{variant:"circular",className:"w-10 h-10"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{variant:"text",className:"w-20 h-4"}),e.jsx(j,{variant:"text",className:"w-16 h-3"})]})]}),e.jsxs("div",{className:"text-right space-y-2",children:[e.jsx(j,{variant:"text",className:"w-20 h-4"}),e.jsx(j,{variant:"text",className:"w-12 h-3"})]})]},s))})]})]});class _e extends A.Component{constructor(t){super(t);L(this,"resetError",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("Error caught by boundary:",t,a)}render(){if(this.state.hasError){const t=this.props.fallback||Ae;return e.jsx(t,{error:this.state.error,resetError:this.resetError})}return this.props.children}}const Ae=({error:s,resetError:r})=>e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"text-red-600",size:32})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"An unexpected error occurred. Please try again or contact support if the problem persists."}),s&&e.jsxs("details",{className:"text-left bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4",children:[e.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700",children:"Error Details"}),e.jsx("pre",{className:"text-xs text-gray-600 mt-2 whitespace-pre-wrap break-words",children:s.message})]}),e.jsxs("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(_,{size:16}),"Try Again"]})]})}),Q=({title:s,message:r,type:t="error",onRetry:a,onDismiss:n,className:i=""})=>{const m={error:{icon:e.jsx($,{size:20}),bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",titleColor:"text-red-800",textColor:"text-red-700"},warning:{icon:e.jsx(E,{size:20}),bgColor:"bg-yellow-50",borderColor:"border-yellow-200",iconColor:"text-yellow-600",titleColor:"text-yellow-800",textColor:"text-yellow-700"},info:{icon:e.jsx(Y,{size:20}),bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",titleColor:"text-blue-800",textColor:"text-blue-700"}},{icon:x,bgColor:g,borderColor:c,iconColor:u,titleColor:h,textColor:b}=m[t];return e.jsx("div",{className:`${g} border ${c} rounded-lg p-4 ${i}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:u,children:x}),e.jsxs("div",{className:"flex-1 min-w-0",children:[s&&e.jsx("h3",{className:`font-semibold ${h} mb-1`,children:s}),e.jsx("p",{className:`text-sm ${b}`,children:r}),(a||n)&&e.jsxs("div",{className:"flex gap-2 mt-3",children:[a&&e.jsxs("button",{onClick:a,className:`px-3 py-1.5 text-sm font-medium rounded ${t==="error"?"bg-red-600 text-white hover:bg-red-700":t==="warning"?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors flex items-center gap-1`,children:[e.jsx(_,{size:14}),"Retry"]}),n&&e.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-800 transition-colors",children:"Dismiss"})]})]})]})})},Ee=({error:s,onConnect:r,onSwitchNetwork:t,onRetry:a})=>{const n={not_connected:{title:"Wallet Not Connected",message:"Please connect your wallet to continue.",action:r&&e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Connect Wallet"})},wrong_network:{title:"Wrong Network",message:"Please switch to a supported network to continue.",action:t&&e.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Switch Network"})},insufficient_funds:{title:"Insufficient Funds",message:"You don't have enough balance to complete this transaction.",action:null},user_rejected:{title:"Transaction Rejected",message:"You rejected the transaction in your wallet.",action:a&&e.jsxs("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(_,{size:16}),"Try Again"]})},unknown:{title:"Wallet Error",message:"An unexpected wallet error occurred. Please try again.",action:a&&e.jsxs("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(_,{size:16}),"Try Again"]})}},{title:i,message:m,action:x}=n[s];return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"text-red-600",size:32})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:i}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),x]})},Se=({message:s,type:r,isVisible:t,onClose:a,duration:n=5e3})=>{const i={success:{icon:e.jsx(T,{size:20}),bgColor:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600",textColor:"text-green-800"},error:{icon:e.jsx($,{size:20}),bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",textColor:"text-red-800"},warning:{icon:e.jsx(E,{size:20}),bgColor:"bg-yellow-50",borderColor:"border-yellow-200",iconColor:"text-yellow-600",textColor:"text-yellow-800"},info:{icon:e.jsx(Y,{size:20}),bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",textColor:"text-blue-800"}};if(A.useEffect(()=>{if(t&&n>0){const h=setTimeout(a,n);return()=>clearTimeout(h)}},[t,n,a]),!t)return null;const{icon:m,bgColor:x,borderColor:g,iconColor:c,textColor:u}=i[r];return e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top duration-300",children:e.jsx("div",{className:`${x} border ${g} rounded-lg p-4 shadow-lg max-w-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:c,children:m}),e.jsx("p",{className:`text-sm font-medium ${u} flex-1`,children:s}),e.jsx("button",{onClick:a,className:`${u} hover:opacity-70 transition-opacity`,children:e.jsx($,{size:16})})]})})})};function Pe({title:s,titleId:r,...t},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Te=l.forwardRef(Pe);function $e({title:s,titleId:r,...t},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const ze=l.forwardRef($e);function We({title:s,titleId:r,...t},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Le=l.forwardRef(We);function Re({title:s,titleId:r,...t},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Me=l.forwardRef(Re);function Fe({title:s,titleId:r,...t},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const k=l.forwardRef(Fe);function De({title:s,titleId:r,...t},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Be=l.forwardRef(De),Ie=({userId:s,onAssetAllocated:r,className:t})=>{const[a,n]=l.useState(!1),[i,m]=l.useState([]),[x,g]=l.useState(!1),[c,u]=l.useState(""),[h,b]=l.useState("all"),[f,y]=l.useState(null);l.useEffect(()=>{(async()=>{console.log("Connecting to HyperMesh native protocol..."),await new Promise(p=>setTimeout(p,2e3)),n(!0),console.log("Connected to HyperMesh protocol")})()},[]);const d=async()=>{if(!a)return;g(!0),console.log("Starting native asset discovery with four-proof consensus...");const o=[{id:"cpu_001",type:"CPU",cost_per_hour:15,trust_score:.92,location:"San Francisco, CA",state:"Available",privacy_level:"PublicNetwork",proxy_address:"hypermesh:4a2b:8c1f:0003:0001::cpu:a1b2c3d4",resource_usage:{utilization_percent:25,used_amount:"2/8 cores"}},{id:"gpu_002",type:"GPU",cost_per_hour:85,trust_score:.88,location:"Austin, TX",state:"Available",privacy_level:"P2P",proxy_address:"hypermesh:7f3e:1a4b:0004:0002::gpu:e5f6g7h8",resource_usage:{utilization_percent:0,used_amount:"0/24GB VRAM"}},{id:"mem_003",type:"Memory",cost_per_hour:8,trust_score:.95,location:"Seattle, WA",state:"Available",privacy_level:"PublicNetwork",proxy_address:"hypermesh:2d8a:5b9c:0005:0003::memory:i9j0k1l2",resource_usage:{utilization_percent:40,used_amount:"32/64GB"}},{id:"storage_004",type:"Storage",cost_per_hour:3,trust_score:.87,location:"New York, NY",state:"Available",privacy_level:"FullPublic",proxy_address:"hypermesh:9e4d:3c7f:0006:0004::storage:m3n4o5p6",resource_usage:{utilization_percent:65,used_amount:"650/1000GB"}},{id:"cpu_005",type:"CPU",cost_per_hour:22,trust_score:.91,location:"London, UK",state:"Available",privacy_level:"PrivateNetwork",proxy_address:"hypermesh:8b7c:4f2e:0007:0005::cpu:q7r8s9t0",resource_usage:{utilization_percent:10,used_amount:"1/16 cores"}},{id:"gpu_006",type:"GPU",cost_per_hour:120,trust_score:.96,location:"Tokyo, JP",state:"Available",privacy_level:"P2P",proxy_address:"hypermesh:6c8d:9a1b:0008:0006::gpu:u1v2w3x4",resource_usage:{utilization_percent:5,used_amount:"2/48GB VRAM"}}];for(let p=0;p<o.length;p++)await new Promise(v=>setTimeout(v,800)),m(v=>[...v,o[p]]);g(!1),console.log(`Discovered ${o.length} assets with consensus validation`)},N=async o=>{y(o.id),console.log(`Allocating ${o.type} asset ${o.id} with consensus validation...`);try{await new Promise(v=>setTimeout(v,3e3));const p={...o,allocation_id:`alloc_${Date.now()}`,allocated_at:Date.now(),state:"Allocated"};m(v=>v.filter(ee=>ee.id!==o.id)),r==null||r(o),console.log(`Successfully allocated ${o.type} asset: ${p.allocation_id}`),alert(`Asset allocated successfully!
Proxy Address: ${o.proxy_address}
Consensus validation: PASSED (PoSpace âœ“ PoStake âœ“ PoWork âœ“ PoTime âœ“)`)}catch(p){console.error("Asset allocation failed:",p),alert("Asset allocation failed")}finally{y(null)}},W=i.filter(o=>{const p=o.id.toLowerCase().includes(c.toLowerCase())||o.location.toLowerCase().includes(c.toLowerCase()),v=h==="all"||o.type===h;return p&&v}),J=o=>{const p="h-5 w-5";switch(o){case"CPU":return e.jsx(Le,{className:p});case"GPU":return e.jsx(k,{className:p});case"Memory":return e.jsx(k,{className:p});case"Storage":return e.jsx(ze,{className:p});default:return e.jsx(k,{className:p})}};return e.jsxs("div",{className:O("h-full flex flex-col bg-gray-50",t),children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"HyperMesh Asset Browser"}),e.jsx("div",{className:"flex items-center space-x-2 text-sm",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-green-600",children:"Native Protocol Connected"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),e.jsx("span",{className:"text-blue-600",children:"Connecting..."})]})})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["User: ",s," | Privacy Level: PublicNetwork | Consensus: Four-Proof Validation"]})]}),e.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search assets by ID or location...",value:c,onChange:o=>u(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsx("div",{className:"flex space-x-2",children:["all","CPU","GPU","Memory","Storage"].map(o=>e.jsx("button",{onClick:()=>b(o),className:O("px-3 py-1 text-sm rounded-md border",h===o?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),children:o==="all"?"All Assets":`${o} Assets`},o))}),e.jsx("button",{onClick:d,disabled:!a||x,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Discovering Assets...":"Discover Assets via Native Protocol"})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[x&&i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Discovering assets via native HyperMesh protocol..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Validating consensus proofs (PoSpace + PoStake + PoWork + PoTime)"})]}):W.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(o=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[J(o.type),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[o.type," Asset"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",o.id]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[o.cost_per_hour," CAESAR/hr"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Trust: ",Math.round(o.trust_score*100),"%"]})]})]}),e.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Privacy:"}),e.jsx("span",{className:"font-medium",children:o.privacy_level})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Location:"}),e.jsx("span",{className:"font-medium",children:o.location})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"State:"}),e.jsx("span",{className:"font-medium text-green-600",children:o.state})]})]}),o.resource_usage&&e.jsxs("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm",children:[e.jsx("div",{className:"text-gray-600 font-medium mb-1",children:"Resource Usage:"}),e.jsxs("div",{children:["Utilization: ",o.resource_usage.utilization_percent,"%"]}),e.jsxs("div",{children:["Used: ",o.resource_usage.used_amount]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 rounded text-sm",children:[e.jsx("div",{className:"text-blue-600 font-medium mb-1",children:"Proxy Address (NAT-like):"}),e.jsx("div",{className:"font-mono text-xs break-all",children:o.proxy_address})]}),e.jsx("button",{onClick:()=>N(o),disabled:f===o.id,className:"w-full mt-4 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f===o.id?"Validating Consensus...":"Allocate Asset"})]},o.id))}):i.length===0&&!x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No assets discovered yet"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Click "Discover Assets" to find available resources via native protocol'})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No assets match your filters"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search or type filter"})]}),x&&i.length>0&&e.jsx("div",{className:"mt-4 text-center py-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm text-blue-600",children:["Still discovering... Found ",i.length," assets so far"]})})]})]})};function Ue(){const[s,r]=l.useState([]),t=l.useCallback((c,u="info",h=5e3)=>{const b=Date.now().toString()+Math.random().toString(36).substring(2),f={id:b,message:c,type:u,duration:h};return r(y=>[...y,f]),h>0&&setTimeout(()=>{a(b)},h),b},[]),a=l.useCallback(c=>{r(u=>u.filter(h=>h.id!==c))},[]),n=l.useCallback(()=>{r([])},[]),i=l.useCallback((c,u)=>t(c,"success",u),[t]),m=l.useCallback((c,u)=>t(c,"error",u),[t]),x=l.useCallback((c,u)=>t(c,"warning",u),[t]),g=l.useCallback((c,u)=>t(c,"info",u),[t]);return{toasts:s,addToast:t,removeToast:a,clearToasts:n,showSuccess:i,showError:m,showWarning:x,showInfo:g}}const K=l.createContext(void 0),He=()=>{const s=l.useContext(K);if(!s)throw new Error("useToastContext must be used within a ToastProvider");return s},Oe=({children:s})=>{const{toasts:r,showSuccess:t,showError:a,showWarning:n,showInfo:i,removeToast:m,clearToasts:x}=Ue(),g={showSuccess:t,showError:a,showWarning:n,showInfo:i,removeToast:m,clearToasts:x};return e.jsxs(K.Provider,{value:g,children:[s,e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(c=>e.jsx(Se,{message:c.message,type:c.type,isVisible:!0,onClose:()=>m(c.id),duration:0},c.id))})]})};function Ge(s=null){const[r,t]=l.useState({data:s,loading:!1,error:null}),a=l.useRef(!0);l.useEffect(()=>()=>{a.current=!1},[]);const n=l.useCallback(async g=>{t(c=>({...c,loading:!0,error:null}));try{const c=await g();return a.current&&t({data:c,loading:!1,error:null}),c}catch(c){throw a.current&&t(u=>({...u,loading:!1,error:c instanceof Error?c:new Error("Unknown error occurred")})),c}},[]),i=l.useCallback(()=>{t({data:s,loading:!1,error:null})},[s]),m=l.useCallback(g=>{t(c=>({...c,data:g,error:null}))},[]),x=l.useCallback(g=>{t(c=>({...c,error:g}))},[]);return{data:r.data,loading:r.loading,error:r.error,execute:n,reset:i,setData:m,setError:x}}function Ve(){const[s,r]=l.useState("wallet"),[,t]=l.useState([]),{address:a,isConnected:n}=q(),{showSuccess:i,showError:m,showInfo:x}=He(),{data:g,loading:c,error:u,execute:h}=Ge(),b=async()=>{if(await new Promise(d=>setTimeout(d,2e3)),Math.random()<.1)throw new Error("Failed to fetch wallet data from the network");return{balance:"$2,847.32",assets:[{symbol:"ETH",name:"Ethereum",amount:"0.847 ETH",value:"$2,156.32",change:"+2.4%",logo:"ETH"},{symbol:"BTC",name:"Bitcoin",amount:"0.021 BTC",value:"$691.00",change:"-1.2%",logo:"BTC"}]}};l.useEffect(()=>{n&&a&&(x("Loading wallet data..."),h(b).then(()=>{i("Wallet data loaded successfully")}).catch(d=>{m(`Failed to load wallet data: ${d.message}`)}))},[n,a]);const f=()=>{n&&h(b).then(()=>{i("Wallet refreshed successfully")}).catch(d=>{m(`Failed to refresh wallet: ${d.message}`)})},y=d=>{t(N=>[...N,d]),i(`Successfully allocated ${d.type} asset`),x(`Proxy address: ${d.proxy_address}`)};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Wallet"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ne,{}),e.jsx("button",{className:"p-2 text-gray-400",children:e.jsx(be,{size:24})})]})]})})}),e.jsxs("main",{className:"pb-20",children:[s==="wallet"&&e.jsx(e.Fragment,{children:n?c?e.jsx(ke,{}):u?e.jsx("div",{className:"px-4 py-6 max-w-md mx-auto",children:e.jsx(Q,{title:"Failed to Load Wallet",message:u.message,type:"error",onRetry:f})}):g?e.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Total Balance"}),e.jsx("h2",{className:"text-4xl font-semibold text-gray-900 mb-6",children:g.balance}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(C,{isLoading:!1,onClick:()=>x("Send functionality coming soon"),variant:"primary",children:"Send"}),e.jsx(C,{isLoading:!1,onClick:()=>x("Receive functionality coming soon"),variant:"secondary",children:"Receive"}),e.jsx(C,{isLoading:!1,onClick:()=>r("cards"),variant:"secondary",children:"Buy"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Assets"}),e.jsx(C,{isLoading:c,onClick:f,variant:"secondary",className:"px-3 py-1 text-sm",children:"Refresh"})]}),e.jsx("div",{className:"space-y-3",children:g.assets.map((d,N)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 ${d.symbol==="ETH"?"bg-blue-100":"bg-orange-100"} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:`${d.symbol==="ETH"?"text-blue-600":"text-orange-600"} font-medium text-sm`,children:d.logo})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:d.name}),e.jsx("p",{className:"text-sm text-gray-500",children:d.amount})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium text-gray-900",children:d.value}),e.jsx("p",{className:`text-sm ${d.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:d.change})]})]},N))})]})]}):e.jsx("div",{className:"px-4 py-6 max-w-md mx-auto",children:e.jsx(Q,{title:"No Data Available",message:"Unable to load wallet data",type:"warning",onRetry:f})}):e.jsx(Ee,{error:"not_connected",onConnect:()=>x("Please use the Connect Wallet button in the header")})}),s==="cards"&&e.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Add Money"}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[e.jsx(U,{size:48,className:"text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Connect Bank Account"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add money instantly from your bank"}),e.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium w-full",children:"Connect Account"})]})]}),s==="activity"&&e.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-green-600",children:"+"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Received"}),e.jsx("p",{className:"text-sm text-gray-500",children:"2 hours ago"})]})]}),e.jsx("p",{className:"font-medium text-gray-900",children:"+$250.00"})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-red-600",children:"-"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Sent"}),e.jsx("p",{className:"text-sm text-gray-500",children:"1 day ago"})]})]}),e.jsx("p",{className:"font-medium text-gray-900",children:"-$150.00"})]})})]})]}),s==="defi"&&e.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"DeFi"}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[e.jsx(H,{size:48,className:"text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Earn Interest"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Put your crypto to work with DeFi protocols"}),e.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium w-full",children:"Explore DeFi"})]})]}),s==="assets"&&e.jsx("div",{className:"h-screen",children:e.jsx(Ie,{userId:a||"anonymous",onAssetAllocated:y,className:"h-full"})})]}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:e.jsx("div",{className:"flex",children:[{key:"wallet",label:"Wallet",icon:X},{key:"cards",label:"Cards",icon:U},{key:"activity",label:"Activity",icon:je},{key:"defi",label:"DeFi",icon:H},{key:"assets",label:"Assets",icon:fe}].map(d=>e.jsxs("button",{onClick:()=>r(d.key),className:`flex-1 py-3 px-4 flex flex-col items-center space-y-1 ${s===d.key?"text-blue-600":"text-gray-400"}`,children:[e.jsx(d.icon,{size:20}),e.jsx("span",{className:"text-xs font-medium",children:d.label})]},d.key))})})]})}const Ze=new me,Qe=({children:s})=>e.jsx(ue,{config:ve,children:e.jsx(re,{client:Ze,children:s})});z.createRoot(document.getElementById("root")).render(e.jsx(A.StrictMode,{children:e.jsx(_e,{children:e.jsx(Qe,{children:e.jsx(Oe,{children:e.jsx(Ve,{})})})})}));
